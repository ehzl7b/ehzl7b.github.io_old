<h1>이것은 테스트입니다. This is a Test Page</h1>
<div class="meta">메타데이터 입니다. 메타데이터 입니다. 메타데이터 입니다. 메타데이터 입니다. 메타데이터 입니다. 메타데이터 입니다.</div>
<div class="meta">Last Updated: 2023-10-10</div>
<h2>RDP 원격 접속</h2>
<p>로컬 윈도우즈 PC에서, 외부 윈도우즈 PC에 접속할 때, RDP라는 MS만의 독자적인 방식(?) 또는 앱(?)을 사용하는 것이 가장 좋다.</p>
<ul>
<li>RDP 접속</li>
</ul>
<blockquote>
<ul>
<li>“<code>Windows + R</code>” -&gt; “mstsc” 실행</li>
</ul>
</blockquote>
<p>이 포스팅에서는 여러가지 이유로 직접 외부 PC에 RDP 접근이 불가능할 때 사용해볼 수 있는 대안인 <strong>SSH 터널링 통한 RDP 우회 접속 방식</strong>을 기록해보고자 한다.</p>
<p>참고로, 로컬PC 외부PC 모두 Windows 11 LTSC 24H2 기준이다.</p>
<h2>우회 접속 구조</h2>
<p>구조에 대해선 어느 전문가가 기록한 <a href="https://omoknooni.tistory.com/m/73">블로그</a>를 참고하자.</p>
<p>요약하면… 개념적으로는 “로컬 PC ----&gt; SSH 서버 ----&gt; 외부 PC” 순으로 접속하는데, 물리적으로는 외부 PC 안에 SSH 서버를 구축 한다.</p>
<p>사용할 땐, 먼저 로컬 PC에서 SSH 서버에 접속하고(이때 SSH 서버가 외부 PC로 접근가능한 우회통로를 터주게 된다.), 다음으로 로컬 PC에서 우회통로로 RDP 접속을 하면 된다.</p>
<h2>외부 PC 세팅</h2>
<ul>
<li>암호 설정</li>
</ul>
<blockquote>
<p>외부 PC에 사용자명, 암호 설정</p>
</blockquote>
<ul>
<li>SSH 서버 설치</li>
</ul>
<blockquote>
<p>“시작” -&gt; “설정” -&gt; “시스템” -&gt; “선택적 기능” -&gt; “기능 보기” 버튼 -&gt; “Open SSH 서버” 항목 체크 -&gt; “다음” 버튼</p>
</blockquote>
<ul>
<li>
<p>재부팅</p>
</li>
<li>
<p>SSH 서버 활성화</p>
</li>
</ul>
<blockquote>
<p>“<code>Windows + R</code>” -&gt; “services.msc” 실행 -&gt; “OpenSSH Authentication Agent” 항목 열기 -&gt; &quot;시작 유형&quot;을 “자동” 선택 -&gt; “시작” -&gt; “확인”</p>
</blockquote>
<ul>
<li>방화벽 설정</li>
</ul>
<blockquote>
<p>“<code>Windows + R</code>” -&gt; “wf.msc” 실행 -&gt; “인바운드 규칙” -&gt; 가장 오른쪽 “새 규칙…” -&gt; 새로운 창에서 “포트” 선택 후 “다음” -&gt; “TCP” 선택 -&gt; &quot;특정 로컬 포트&quot;에 “22” 입력 후 “다음” -&gt; “다음” -&gt; “다음” -&gt; &quot;이름&quot;에 “port 22 개방” 입력 후 “마침”</p>
</blockquote>
<ul>
<li>재부팅</li>
</ul>
<h2>로컬 PC 세팅</h2>
<ul>
<li>SSH 실행</li>
</ul>
<blockquote>
<p>“<code>Windows + R</code>” -&gt; “cmd” 실행 -&gt; “ssh -L 8888:127.0.0.1:3389 [외부 PC 사용자명]@[외부 PC 인터넷 주소]” 입력 실행 -&gt; (만일 뭔가 묻는 화면이 나오면 “yes” 입력) -&gt; 비밀번호 입력</p>
</blockquote>
<p>여기까지 하면 우회통로가 뚫린다. <strong>프롬프트 창을 닫으면 우회통로도 닫힌다.</strong></p>
<ul>
<li>RDP 접속</li>
</ul>
<blockquote>
<p>“<code>Windows + R</code>” -&gt; “mstsc” 실행 -&gt; “컴퓨터” 항목에 “127.0.0.1:8888” 입력 -&gt; “연결” -&gt; “사용자 이름” 및 “암호” 입력 후 “확인”</p>
</blockquote>
<p>SSH 가 만들어준 우회통로 주소인 &quot;127.0.0.1:8888&quot;로 접속하는 식이다.</p>
<h2>외부 PC 인터넷 주소 확인 또는 생성</h2>
<p>참고로 외부 PC 인터넷 주소를 알아내거나, iptime 공유기로 주소 생성하는 방법은 <a href="#">별도 포스팅</a>에 기록해 두었다.</p>
